SQL> create table myEmp(empid int, ename varchar(26), esal int);

SQL> insert into myEmp values(101,'A1',1000);
1 row created.

SQL> insert into myEmp values(102,'A2',2000);
1 row created.

SQL> insert into myEmp values(103,'A3',1500);
1 row created.


CREATE TABLE hire_dates (id  NUMBER(8),  hire_date DATE DEFAULT SYSDATE);


CREATE TABLE dept    (deptno      NUMBER(2),
         dname       VARCHAR2(14),
         loc         VARCHAR2(13),
         create_date DATE DEFAULT SYSDATE);


DESCRIBE dept



CREATE TABLE hire_dates (id  NUMBER(8),  hire_date DATE DEFAULT SYSDATE);
 insert into hire_dates(id) values (1011);
 insert into hire_dates values (1011, DEFAULT);
  insert into hire_dates values (1011,'17-Jan-22');
  
  select * from hire_dates;



SQL> create table myEmp2(empid int not null, ename varchar(26),esal int);
Table created.
SQL> select * from myEmp;
SQL> insert into myEmp2(ename,esal) values('C123',3000);
ERROR at line 1:
SQL> insert into myEmp2(ename,empid) values('C123',3000);
SQL> select * from myEmp2;






SQL> create table myEmp5(empid int primary key, ename varchar(26), esal int);
Table created.
SQL> create table myEmp6(empid int, ename varchar(26),esal int, constraint PK_myEmp6Empid primary key(empid));
Table created.
SQL> insert into myEmp5 values(102,'C123',3000);
1 row created.
SQL> insert into myEmp6 values(102,'C123',3000);
insert into myEmp5 values(102,'C123',3000)
ERROR at line 1:ORA-00001: unique constraint (MONICA.SYS_C007432) violated





create table leave(empid int not null, type varchar(26), noOfDays int, constraint fkLeaveEmpid foreign key(empid) references myEmp6(empid));
insert into myEmp6 values(101,'C123',3000);
insert into myEmp6 values(103,'C123',3000);
select * from myEmp6;
insert into leave values(103,'CL',2);
insert into leave values(103,'CL',2);
1 row created.
insert into leave values(510,'CL',2);
ERROR at line 1:
ORA-02291: integrity constraint (MONICA.FKLEAVEEMPID) violated - parent key not found




create table leave3(empid int , type varchar(26), noOfDays int, constraint fkLeave3Empid foreign key(empid) references myEmp6(empid));

insert into leave3(type,noOfDays) values('CL',2);
insert into leave3 values(103,'CL',2);
insert into leave3 values(103,'CL',2);


select * from leave3



SQL> create table myEmp7(empid int not null, ename varchar(26),esal int, constraint chkmyEmp7 check(esal>0));
Table created.

SQL> insert into myEmp7 values(102, 'A1',0);
insert into myEmp7 values(102, 'A1',0)
*
ERROR at line 1:
ORA-02290: check constraint (MONICA.CHKMYEMP7) violated

SQL> insert into myEmp7 values(102, 'A1',10);
1 row created.

SQL> select * from myEmp7;





select * from myEmp2;
 insert into myEmp2 values(1001,'abd',66)
 
 create table myEmp2BkUp as
  select empid, ename, esal * 12 as CTC from myEmp2;
  
  select * from myEmp2BkUp
desc myEmp2BkUp 
 
 
 





CREATE TABLE persons(
    person_id NUMBER GENERATED BY DEFAULT AS IDENTITY,
    first_name VARCHAR2(50) NOT NULL,
    last_name VARCHAR2(50) NOT NULL,
    PRIMARY KEY(person_id)
);

ALTER TABLE persons ADD birthdate DATE NOT NULL;
DESC persons; 
ALTER TABLE persons ADD ( phone VARCHAR(20), email VARCHAR(100) );


ALTER TABLE persons MODIFY birthdate DATE NULL;
ALTER TABLE persons MODIFY( phone VARCHAR2(20) NOT NULL, email VARCHAR2(255) NOT NULL );
DESC persons;



ALTER TABLE persons DROP COLUMN birthdate;

ALTER TABLE persons DROP ( email, phone );


DESC persons;



ALTER TABLE persons RENAME COLUMN first_name TO forename;
DESC persons;





ALTER TABLE persons RENAME TO people;


ALTER TABLE myEmp2 READ ONLY;

-- perform table maintenance and then
-- return table back to read/write mode

ALTER TABLE myEmp2 READ WRITE;






insert into myEmp2BkUp select empid, ename, esal as CTC from myEmp2;


update myEmp2 set esal=esal*1.2
update myEmp2 set esal=200 where esal is null


  select * from myEmp2BkUp;
delete from myEmp2BkUp where ctc>100; 
delete from myEmp2BkUp



insert into myEmp2BkUp select empid, ename, esal as CTC from myEmp2;

truncate table myEmp2BkUp



